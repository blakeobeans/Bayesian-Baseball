"0","set.seed(1234)"
"0","options(mc.cores = parallel::detectCores())"
"0","varint.m <- map2stan("
"0","  alist("
"0","    rdiff ~ dnorm( mu, sigma),"
"0","    mu <- A + B + C + D,"
"0","    A <- a + h[home] + a[away],"
"0","    B <- b + hits_h * Hh + double_h * B2Bh + triple_h * B3Bh + HR_h * BHRh + balls_h * BBBh +"
"0","             hits_a * Ha + double_a * B2Ba + triple_a * B3Ba + HR_a * BHRa + balls_a * BBBa,"
"0","    C <- c + hits_allowed_h * HHAh + pballs_h * PBBh + pstrikeouts_h * PSOh +  strikes_h * Strh +"
"0","             hits_allowed_a * HHAa + pballs_a * PBBa + pstrikeouts_a * PSOa + strikes_a * Stra,"
"0","    D <- d + fh1 * PO_h + fh2 * A_h + fh3 * E_h + fh4 * DP_h + fa1 * PO_a + fa2 * A_a + fa3 * E_a + fa4 * DP_a,"
"0","    ###adaptive priors for coefficients"
"0","    h[home] ~ dnorm(h_mu, h_sigma),"
"0","    h_mu ~ dnorm(0,1),"
"0","    h_sigma ~  dcauchy(0,2), "
"0","    a[away] ~ dnorm(a_mu, a_sigma),"
"0","    a_mu ~ dnorm(0,1),"
"0","    a_sigma ~ dcauchy(0,2),"
"0","    ###"
"0","    hits_h ~ dnorm(hits_h_mu, hits_h_sigma),"
"0","    hits_h_mu ~ dnorm(0,1),"
"0","    hits_h_sigma ~ dcauchy(0,2), "
"0","    hits_a ~ dnorm(hits_a_mu, hits_a_sigma),"
"0","    hits_a_mu ~ dnorm(0,1),"
"0","    hits_a_sigma ~ dcauchy(0,2),"
"0","    ###"
"0","    double_h ~ dnorm(double_h_mu, double_h_sigma),"
"0","    double_h_mu ~ dnorm(0,1),"
"0","    double_h_sigma ~ dcauchy(0,2),"
"0","    double_a ~ dnorm(double_a_mu, double_a_sigma),"
"0","    double_a_mu ~ dnorm(0,1),"
"0","    double_a_sigma ~ dcauchy(0,2),    "
"0","    ###"
"0","    triple_h ~ dnorm(triple_h_mu, triple_h_sigma),"
"0","    triple_h_mu ~ dnorm(0,1),"
"0","    triple_h_sigma ~ dcauchy(0,2),"
"0","    triple_a ~ dnorm(triple_a_mu, triple_a_sigma),"
"0","    triple_a_mu ~ dnorm(0,1),"
"0","    triple_a_sigma ~ dcauchy(0,2),"
"0","    ###"
"0","    HR_h ~ dnorm(HR_h_mu, HR_h_sigma),"
"0","    HR_h_mu ~ dnorm(0,1),"
"0","    HR_h_sigma ~ dcauchy(0,2),"
"0","    HR_a ~ dnorm(HR_a_mu, HR_a_sigma),"
"0","    HR_a_mu ~ dnorm(0,1),"
"0","    HR_a_sigma ~ dcauchy(0,2),    "
"0","    ###"
"0","    balls_h ~ dnorm(balls_h_mu, balls_h_sigma),"
"0","    balls_h_mu ~ dnorm(0,1),"
"0","    balls_h_sigma ~ dcauchy(0,2),"
"0","    balls_a ~ dnorm(balls_a_mu, balls_a_sigma),"
"0","    balls_a_mu ~ dnorm(0,1),"
"0","    balls_a_sigma ~ dcauchy(0,2),      "
"0","    ###"
"0","    hits_allowed_h ~ dnorm(hits_allowed_h_mu, hits_allowed_h_sigma),"
"0","    hits_allowed_h_mu ~ dnorm(0,1),"
"0","    hits_allowed_h_sigma ~ dcauchy(0,2),"
"0","    hits_allowed_a ~ dnorm(hits_allowed_a_mu, hits_allowed_a_sigma),"
"0","    hits_allowed_a_mu ~ dnorm(0,1),"
"0","    hits_allowed_a_sigma ~ dcauchy(0,2),      "
"0","    ###"
"0","    pballs_h ~ dnorm(pballs_h_mu, pballs_h_sigma),"
"0","    pballs_h_mu ~ dnorm(0,1),"
"0","    pballs_h_sigma ~ dcauchy(0,2),"
"0","    pballs_a ~ dnorm(pballs_a_mu, pballs_a_sigma),"
"0","    pballs_a_mu ~ dnorm(0,1),"
"0","    pballs_a_sigma ~ dcauchy(0,2),      "
"0","    ###"
"0","    pstrikeouts_h ~ dnorm(pstrikeouts_h_mu, pstrikeouts_h_sigma),"
"0","    pstrikeouts_h_mu ~ dnorm(0,1),"
"0","    pstrikeouts_h_sigma ~ dcauchy(0,2),"
"0","    pstrikeouts_a ~ dnorm(pstrikeouts_a_mu, pstrikeouts_a_sigma),"
"0","    pstrikeouts_a_mu ~ dnorm(0,1),"
"0","    pstrikeouts_a_sigma ~ dcauchy(0,2),     "
"0","    ###"
"0","    strikes_h ~ dnorm(strikes_h_mu, strikes_h_sigma),"
"0","    strikes_h_mu ~ dnorm(0,1),"
"0","    strikes_h_sigma ~ dcauchy(0,2),"
"0","    strikes_a ~ dnorm(strikes_a_mu, strikes_a_sigma),"
"0","    strikes_a_mu ~ dnorm(0,1),"
"0","    strikes_a_sigma ~ dcauchy(0,2),"
"0","    ###standard priors"
"0","    c(a, b, c, d) ~ dnorm(0,1),"
"0","    ###  "
"0","    c(fh1, fh2, fh3, fh4, fa1, fa2, fa3, fa4) ~ dnorm(0,1),"
"0","    sigma ~ dcauchy(0,2)),"
"0","  data=mydata,"
"0","  iter=5000, warmup=500, chains=1, cores=4)"
"1","
"
"1","SAMPLING"
"1"," FOR MODEL '"
"1","e93191d95ccda143f74d36b15c0ff2a1"
"1","' NOW (CHAIN "
"1","1"
"1",").
"
"1","Chain "
"1","1"
"1",": "
"1","
"
"1","Chain "
"1","1"
"1",": "
"1","Gradient evaluation took 0.004 seconds"
"1","
"
"1","Chain "
"1","1"
"1",": "
"1","1000 transitions using 10 leapfrog steps per transition would take 40 seconds."
"1","
"
"1","Chain "
"1","1"
"1",": "
"1","Adjust your expectations accordingly!"
"1","
"
"1","Chain "
"1","1"
"1",": "
"1","
"
"1","Chain "
"1","1"
"1",": "
"1","
"
"1","Chain "
"1","1"
"1",": "
"1","Iteration:    1 / 5000 [  0%]  (Warmup)"
"1","
"
"1","Chain "
"1","1"
"1",": "
"1","Iteration:  500 / 5000 [ 10%]  (Warmup)"
"1","
"
"1","Chain "
"1","1"
"1",": "
"1","Iteration:  501 / 5000 [ 10%]  (Sampling)"
"1","
"
"1","Chain "
"1","1"
"1",": "
"1","Iteration: 1000 / 5000 [ 20%]  (Sampling)"
"1","
"
"1","Chain "
"1","1"
"1",": "
"1","Iteration: 1500 / 5000 [ 30%]  (Sampling)"
"1","
"
"1","Chain "
"1","1"
"1",": "
"1","Iteration: 2000 / 5000 [ 40%]  (Sampling)"
"1","
"
"1","Chain "
"1","1"
"1",": "
"1","Iteration: 2500 / 5000 [ 50%]  (Sampling)"
"1","
"
"1","Chain "
"1","1"
"1",": "
"1","Iteration: 3000 / 5000 [ 60%]  (Sampling)"
"1","
"
"1","Chain "
"1","1"
"1",": "
"1","Iteration: 3500 / 5000 [ 70%]  (Sampling)"
"1","
"
"1","Chain "
"1","1"
"1",": "
"1","Iteration: 4000 / 5000 [ 80%]  (Sampling)"
"1","
"
"1","Chain "
"1","1"
"1",": "
"1","Iteration: 4500 / 5000 [ 90%]  (Sampling)"
"1","
"
"1","Chain "
"1","1"
"1",": "
"1","Iteration: 5000 / 5000 [100%]  (Sampling)"
"1","
"
"1","Chain "
"1","1"
"1",": "
"1","
"
"1","Chain "
"1","1"
"1",": "
"1"," Elapsed Time: 883.593 seconds (Warm-up)"
"1","
"
"1","Chain "
"1","1"
"1",": "
"1","               9048.55 seconds (Sampling)"
"1","
"
"1","Chain "
"1","1"
"1",": "
"1","               9932.14 seconds (Total)"
"1","
"
"1","Chain "
"1","1"
"1",": "
"1","
"
"2","There were 24 divergent transitions after warmup. Increasing adapt_delta above 0.95 may help. See
http://mc-stan.org/misc/warnings.html#divergent-transitions-after-warmup"
"2","There were 4476 transitions after warmup that exceeded the maximum treedepth. Increase max_treedepth above 10. See
http://mc-stan.org/misc/warnings.html#maximum-treedepth-exceeded"
"2","There were 1 chains where the estimated Bayesian Fraction of Missing Information was low. See
http://mc-stan.org/misc/warnings.html#bfmi-low"
"2","Examine the pairs() plot to diagnose sampling problems
"
"2","Computing WAIC
"
"2","There were 24 divergent iterations during sampling.
Check the chains (trace plots, n_eff, Rhat) carefully to ensure they are valid."
